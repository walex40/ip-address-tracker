{"mappings":"AAAA;AAEA,MAAM,YAAY,SAAS,cAAc;AACzC,MAAM,YAAY,SAAS,cAAc;AACzC,MAAM,aAAa,SAAS,cAAc;AAE1C,MAAM,aAAa,SAAU,GAAG;IAC9B,MAAM,QAAQ,CAAC;;;gBAGD,EAAE,IAAI,GAAG;;;;;;aAMZ,EAAE,IAAI,SAAS,OAAO,EAAE,EAAE,IAAI,SAAS,QAAQ;YAChD,EAAE,IAAI,GAAG,IAAI;;;;;;mBAMN,EAAE,IAAI,SAAS,SAAS;;;;;gBAK3B,EAAE,IAAI,GAAG,KAAK;;EAE5B,CAAC;IACD,WAAW,YAAY;AACzB;AAEA,MAAM,cAAc,SAAU,IAAI;IAChC,IAAI,MAAM,EAAE,IAAI,OAAO,QAAQ;QAAC,KAAK,SAAS;QAAK,KAAK,SAAS;KAAI,EAAE;IAEvE,QAAQ,IAAI;IAEZ,EAAE,UAAU,kDAAkD;QAC5D,aACE;IACJ,GAAG,MAAM;IAET,wDAAwD;IAExD,IAAI,aAAa,EAAE,KAAK;QACtB,SAAS;QACT,UAAU;YAAC;YAAI;SAAG;IACpB;IAEA,EAAE,OAAO;QAAC,KAAK,SAAS;QAAK,KAAK,SAAS;KAAI,EAAE;QAAE,MAAM;IAAW,GAAG,MACrE;AAEJ;AAEA,MAAM,eAAe,SAAU,SAAS;IACtC,MACE,CAAC,4FAA4F,EAAE,UAAU,CAAC,EAEzG,KAAK,CAAC,WAAa,SAAS,QAC5B,KAAK,CAAC;QACL,WAAW;QACX,QAAQ,IAAI;QACZ,YAAY;IACd;AACJ;AAEA,MAAM,WAAW,SAAU,CAAC;IAC1B,IAAI,QAAQ,UAAU;IACtB,EAAE;IACF,QAAQ,IAAI,aAAa;AAC3B;AAEA,MAAM,iBAAiB,SAAU,CAAC;IAChC,IAAI,QAAQ,UAAU;IACtB,IAAI,EAAE,OAAO,WAAW,SAAS,IAAI;QACnC,EAAE;QACF,QAAQ,IAAI,aAAa;IAC3B;AACF;AAEA,UAAU,iBAAiB,SAAS;AACpC,UAAU,iBAAiB,WAAW","sources":["src/js/script.js"],"sourcesContent":["\"use strict\";\r\n\r\nconst searchBar = document.querySelector(\".form__field\");\r\nconst submitBtn = document.querySelector(\".form__btn\");\r\nconst searchList = document.querySelector(\".nav\");\r\n\r\nconst userAction = function (res) {\r\n  const inner = `\r\n      <div class=\"nav__item\">\r\n          <h1>ip address</h1>\r\n          <span>${res.ip}</span>\r\n        </div>\r\n\r\n        <div class=\"nav__item\">\r\n          <h1>location</h1>\r\n          <span\r\n            >${res.location.region}, ${res.location.country} <br />\r\n            ${res.as.asn}</span\r\n          >\r\n        </div>\r\n\r\n        <div class=\"nav__item\">\r\n          <h1>time zone</h1>\r\n          <span>UTC${res.location.timezone}</span>\r\n        </div>\r\n\r\n        <div class=\"nav__item\">\r\n          <h1>isp</h1>\r\n          <span>${res.as.name}</span>\r\n        </div>\r\n  `;\r\n  searchList.innerHTML = inner;\r\n};\r\n\r\nconst getLocation = function (corr) {\r\n  let map = L.map(\"map\").setView([corr.location.lat, corr.location.lng], 13);\r\n\r\n  console.log(map);\r\n\r\n  L.tileLayer(\"https://tile.openstreetmap.org/{z}/{x}/{y}.png\", {\r\n    attribution:\r\n      '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\r\n  }).addTo(map);\r\n\r\n  // let myIcon = L.divIcon({ className: \"my-div-icon\" });\r\n\r\n  let customIcon = L.icon({\r\n    iconUrl: \"./icon-location.svg\",\r\n    iconSize: [38, 95],\r\n  });\r\n\r\n  L.marker([corr.location.lat, corr.location.lng], { icon: customIcon }).addTo(\r\n    map\r\n  );\r\n};\r\n\r\nconst getIpAddress = function (ipAddress) {\r\n  fetch(\r\n    `https://geo.ipify.org/api/v2/country,city?apiKey=at_cBNRWQkYEVZMRKWAHt0fBFkX2pGC2&ipAddress=${ipAddress}`\r\n  )\r\n    .then((response) => response.json())\r\n    .then((data) => {\r\n      userAction(data);\r\n      console.log(data);\r\n      getLocation(data);\r\n    });\r\n};\r\n\r\nconst getInput = function (e) {\r\n  let input = searchBar.value;\r\n  e.preventDefault();\r\n  console.log(getIpAddress(input));\r\n};\r\n\r\nconst getSearchInput = function (e) {\r\n  let input = searchBar.value;\r\n  if (e.key == \"Enter\" && input != \"\") {\r\n    e.preventDefault();\r\n    console.log(getIpAddress(input));\r\n  }\r\n};\r\n\r\nsubmitBtn.addEventListener(\"click\", getInput);\r\nsearchBar.addEventListener(\"keydown\", getSearchInput);\r\n"],"names":[],"version":3,"file":"index.09c24910.js.map","sourceRoot":"/__parcel_source_root/"}